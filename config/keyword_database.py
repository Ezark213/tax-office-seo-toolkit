"""
税理士業界のキーワードデータベース
地域・サービス・顧客タイプ別のキーワードを管理
"""

from typing import Dict, List

# 地域キーワード（関東エリア重点）
LOCATION_KEYWORDS = {
    "千葉県": [
        "千葉市", "船橋市", "松戸市", "市川市", "柏市", "市原市", "八千代市",
        "流山市", "野田市", "我孫子市", "鎌ケ谷市", "浦安市", "四街道市"
    ],
    "東京都": [
        "新宿区", "渋谷区", "港区", "千代田区", "中央区", "世田谷区", "大田区",
        "品川区", "目黒区", "杉並区", "練馬区", "板橋区", "江戸川区", "葛飾区"
    ],
    "埼玉県": [
        "さいたま市", "川口市", "川越市", "所沢市", "越谷市", "草加市", "春日部市"
    ]
}

# 基本サービスキーワード
SERVICE_KEYWORDS = {
    "税務申告": [
        "法人税", "所得税", "消費税", "相続税", "贈与税", "事業税", "住民税",
        "確定申告", "青色申告", "白色申告", "税務申告", "申告書作成"
    ],
    "会計業務": [
        "記帳代行", "経理代行", "決算書作成", "月次決算", "年次決算",
        "会計帳簿", "仕訳入力", "試算表", "貸借対照表", "損益計算書"
    ],
    "法人設立": [
        "会社設立", "法人設立", "起業支援", "創業支援", "株式会社設立",
        "合同会社設立", "定款作成", "登記手続き", "設立届出"
    ],
    "経営支援": [
        "経営相談", "経営コンサルティング", "資金調達", "事業計画",
        "経営分析", "財務分析", "予算作成", "キャッシュフロー"
    ],
    "税務調査": [
        "税務調査対応", "税務調査立会", "修正申告", "更正処分対応",
        "税務署対応", "調査準備", "帳簿整理"
    ]
}

# 顧客タイプ別キーワード
CUSTOMER_TYPE_KEYWORDS = {
    "個人事業主": [
        "フリーランス", "個人事業", "自営業", "副業", "開業届", "青色申告承認申請",
        "事業所得", "雑所得", "経費", "控除", "節税"
    ],
    "中小企業": [
        "中小企業", "小規模企業", "同族会社", "オーナー企業", "家族企業",
        "中小企業庁", "小規模企業共済", "セーフティネット"
    ],
    "スタートアップ": [
        "スタートアップ", "ベンチャー企業", "IT企業", "テック企業",
        "資金調達", "エンジェル投資", "VC", "IPO", "M&A"
    ],
    "医療・介護": [
        "クリニック", "医院", "歯科医院", "薬局", "介護施設",
        "医療法人", "社会福祉法人", "医業", "診療報酬"
    ]
}

# 季節・時期別キーワード
SEASONAL_KEYWORDS = {
    "1月": ["確定申告準備", "年末調整", "新年度予算", "償却資産申告"],
    "2月": ["確定申告", "e-Tax", "医療費控除", "住宅ローン控除"],
    "3月": ["確定申告期限", "決算", "年度末決算", "繰越欠損金"],
    "4月": ["新年度", "新規開業", "設立1期目", "消費税課税事業者"],
    "5月": ["決算書提出", "法人税申告", "消費税申告", "GW営業"],
    "6月": ["住民税", "賞与", "社会保険算定基礎", "中間申告"],
    "7月": ["夏季休業", "中間決算", "予算見直し", "節税対策"],
    "8月": ["お盆休み", "事業承継", "相続税対策", "夏季セミナー"],
    "9月": ["中間申告", "下半期予算", "決算準備", "税務調査"],
    "10月": ["消費税中間申告", "年末調整準備", "来年度計画", "インボイス"],
    "11月": ["年末調整", "保険料控除", "ふるさと納税", "節税相談"],
    "12月": ["年末調整", "賞与", "来年度予算", "決算対策"]
}

# 専門分野キーワード
SPECIALIZATION_KEYWORDS = {
    "IT・テック": [
        "SaaS", "クラウド", "AI", "DX", "システム開発", "アプリ開発",
        "プラットフォーム", "API", "サブスクリプション", "ライセンス収入"
    ],
    "不動産": [
        "不動産投資", "賃貸経営", "不動産売却", "相続不動産",
        "減価償却", "土地建物", "固定資産税", "都市計画税"
    ],
    "建設・工事": [
        "建設業", "工事業", "職人", "一人親方", "建設業許可",
        "完成工事高", "工事進行基準", "建設業経理士"
    ],
    "飲食・小売": [
        "飲食店", "小売店", "EC", "ネットショップ", "店舗経営",
        "食材費", "仕入", "在庫管理", "POSレジ"
    ]
}

# ロングテールキーワード
LONG_TAIL_KEYWORDS = [
    # 地域 + サービス + 詳細
    "流山市 税理士 法人税 安い",
    "柏市 会計事務所 確定申告 相談",
    "松戸市 税理士 会社設立 費用",
    "千葉県 税理士 相続税 専門",
    
    # 具体的な悩み・疑問
    "個人事業主 税理士 いつから",
    "スタートアップ 税理士 選び方",
    "税務調査 税理士 費用",
    "確定申告 税理士 メリット",
    
    # 業界特化
    "IT企業 税理士 おすすめ",
    "不動産投資 税理士 必要",
    "医院 税理士 変更",
    "建設業 税理士 経審"
]

# 競合分析用キーワード
COMPETITOR_KEYWORDS = [
    "税理士 評判",
    "税理士 口コミ", 
    "税理士 比較",
    "税理士 ランキング",
    "税理士 選び方",
    "税理士 費用",
    "税理士 料金表"
]

# キーワード重要度スコア（1-10）
KEYWORD_PRIORITY = {
    "高優先度": [
        "{地域} 税理士",
        "{地域} 会計事務所", 
        "{地域} 確定申告",
        "{地域} 会社設立"
    ],
    "中優先度": [
        "{地域} 経営相談",
        "{地域} 税務相談",
        "{サービス} 税理士",
        "税理士 {地域}"
    ],
    "低優先度": [
        "{専門分野} 税理士",
        "税理士 {専門分野}",
        "{地域} {専門分野} 税理士"
    ]
}

def get_location_service_combinations(locations: List[str], services: List[str]) -> List[str]:
    """地域×サービスのキーワード組み合わせを生成"""
    combinations = []
    for location in locations:
        for service in services:
            combinations.extend([
                f"{location} {service}",
                f"{service} {location}",
                f"{location} {service} 相談",
                f"{location} {service} 料金",
                f"{location} {service} おすすめ"
            ])
    return combinations

def get_seasonal_content_keywords(month: int) -> List[str]:
    """月に応じた季節キーワードを取得"""
    month_names = [
        "", "1月", "2月", "3月", "4月", "5月", "6月",
        "7月", "8月", "9月", "10月", "11月", "12月"
    ]
    
    if 1 <= month <= 12:
        return SEASONAL_KEYWORDS.get(month_names[month], [])
    return []

def get_target_keywords_for_office(location: str, services: List[str]) -> Dict[str, List[str]]:
    """特定の事務所向けのターゲットキーワードを生成"""
    keywords = {
        "primary": [
            f"{location} 税理士",
            f"{location} 会計事務所",
            f"税理士 {location}"
        ],
        "secondary": [],
        "long_tail": []
    }
    
    # サービス別キーワード
    for service in services:
        keywords["secondary"].extend([
            f"{location} {service}",
            f"{service} {location}"
        ])
        
        keywords["long_tail"].extend([
            f"{location} {service} 相談",
            f"{location} {service} 費用",
            f"{location} {service} おすすめ"
        ])
    
    return keywords